(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sample1"],{"0467":function(t,e,n){},b5b6:function(t,e,n){},deef:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view-sample1"},[t.dataConnection?n("v-banner",{attrs:{"single-line":"",outlined:"",rounded:"",color:"primary"}},[n("div",{staticClass:"text--primary text-body-2"},[n("v-icon",{attrs:{icon:"mdi-lock",color:"primary"}},[t._v("mdi-lock")]),t._v(" 「"+t._s(t.toPeerId)+"」とP2P接続しています ")],1)]):t._e(),n("div",{staticClass:"view-sample1__row view-sample1__row--content"},[n("v-list",{attrs:{"two-line":"",width:"100%"}},[t._l(t.messages,(function(e,i){return[n("v-card",{key:i,staticStyle:{"margin-bottom":"8px"},style:{"margin-left":e.peerId===t.peerId?"32px":null,"margin-right":e.peerId===t.peerId?null:"32px"},attrs:{outlined:"",color:e.peerId===t.peerId?"blue-grey lighten-5":"blue lighten-5"}},[n("v-card-text",[n("b",[t._v(t._s(e.peerId))]),n("br"),t._v(" "+t._s(e.text)+" ")])],1)]}))],2)],1),n("v-footer",{staticStyle:{padding:"16px 8px"},attrs:{app:"",color:"blue-grey lighten-5",inset:""}},[n("v-text-field",{attrs:{"background-color":"white",dense:"",outlined:"","hide-details":"auto",placeholder:"送信するテキストを入力してください","append-icon":null===t.text||0===t.text.length?null:"mdi-send"},on:{"click:append":t.clickSend,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?e.ctrlKey||e.shiftKey||e.altKey?null:t.keydownEnter.apply(null,arguments):null}},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),n("v-dialog",{attrs:{width:"100%","max-width":"480px",persistent:""},model:{value:t.displayDialog1,callback:function(e){t.displayDialog1=e},expression:"displayDialog1"}},[n("v-card",{attrs:{outlined:""}},[n("v-card-title",[t._v("設定")]),n("v-card-text",[n("InputText",{attrs:{label:"APIキー",disabled:""},model:{value:t.apiKey,callback:function(e){t.apiKey=e},expression:"apiKey"}}),n("InputText",{attrs:{label:"自分のPeerId",disabled:null!==t.peer},model:{value:t.peerId,callback:function(e){t.peerId=e},expression:"peerId"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:t.clickCancel}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-close")]),t._v(" キャンセル ")],1),n("v-btn",{attrs:{color:"primary",text:"",disabled:null!==t.peer},on:{click:t.clickDone1}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-check")]),t._v(" 決定 ")],1)],1)],1)],1),n("v-dialog",{attrs:{width:"100%","max-width":"280px",persistent:""},model:{value:t.displayDialog2,callback:function(e){t.displayDialog2=e},expression:"displayDialog2"}},[n("v-card",{attrs:{outlined:""}},[n("div",{staticStyle:{width:"200px",height:"200px",display:"flex","justify-content":"center","align-items":"center",margin:"auto",padding:"16px"}},[n("v-progress-circular",{attrs:{size:200,width:"10",color:"primary",indeterminate:""}},[t._v(" 接続待機中... ")])],1),n("v-divider"),n("v-card-actions",[n("InputText",{attrs:{label:"相手のPeerId",disabled:null!==t.dataConnection},model:{value:t.toPeerId,callback:function(e){t.toPeerId=e},expression:"toPeerId"}}),n("v-btn",{attrs:{text:"",color:"primary",disabled:null!==t.dataConnection},on:{click:t.clickConnect}},[t._v(" 接続 ")])],1)],1)],1)],1)},s=[],o=n("9ab4"),r=n("ed09"),a=n("0b69"),c=n.n(a),l=n("40f4"),d=n("fc1b"),u=n("9f38"),p=n("5b10"),h={Step1:1,Step2:2,Step3:3},b=Object(r["c"])({components:{InputText:l["a"]},props:{apiKey:{type:String,required:!0}},setup:function(t){var e,n=this,i=Object(r["g"])({step:h.Step1,peerId:null!==(e=u["a"].peerId)&&void 0!==e?e:"",peer:null,toPeerId:"",dataConnection:null,text:"",messages:[]}),s=Object(r["a"])((function(){return i.step===h.Step1})),a=Object(r["a"])((function(){return i.step===h.Step2})),l=function(e){return Object(o["b"])(n,void 0,Promise,(function(){var n,s;return Object(o["c"])(this,(function(o){return n={key:t.apiKey,debug:3},s=e.length>=1?new c.a(e,n):new c.a(n),s.on("open",(function(){console.info("peer: open"),i.peer=s})),s.on("close",(function(){console.info("peer: close")})),s.on("error",(function(t){d["a"].showError(t.message)})),s.on("connection",(function(t){console.info("peer: connection"),b(t)})),[2]}))}))},b=function(t){return Object(o["b"])(n,void 0,void 0,(function(){return Object(o["c"])(this,(function(e){return t.on("open",(function(){console.info("dataConnection: open"),i.toPeerId=t.remoteId,i.dataConnection=t})),t.on("data",(function(t){console.info("dataConnection: data > "+JSON.stringify(t)),i.messages.push(t)})),t.on("close",(function(){console.info("dataConnection: close")})),t.on("error",(function(t){d["a"].showError(t.message)})),[2]}))}))},f=function(){return Object(o["b"])(n,void 0,void 0,(function(){var t;return Object(o["c"])(this,(function(e){switch(e.label){case 0:return t=i.peerId,[4,l(t)];case 1:return e.sent(),[2]}}))}))},v=function(){return Object(o["b"])(n,void 0,void 0,(function(){return Object(o["c"])(this,(function(e){switch(e.label){case 0:return[4,p["a"].moveHome(t.apiKey)];case 1:return e.sent(),[2]}}))}))},m=function(){return Object(o["b"])(n,void 0,void 0,(function(){var t,e,n;return Object(o["c"])(this,(function(s){switch(s.label){case 0:return t=i.peer,e=i.toPeerId,null!==t?[3,2]:[4,d["a"].showError("SkyWayの接続準備に失敗しました。ブラウザをリロードして、再度試してみてください")];case 1:return s.sent(),[2];case 2:return 0!==e.length?[3,4]:[4,d["a"].showError("相手のPeerIDを入力して、決定ボタンをクリックしてください")];case 3:return s.sent(),[2];case 4:return n=t.connect(e),[4,b(n)];case 5:return s.sent(),[2]}}))}))},g=function(t){return Object(o["b"])(n,void 0,void 0,(function(){return Object(o["c"])(this,(function(e){switch(e.label){case 0:return t.ctrlKey||t.metaKey?[4,y()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},y=function(){return Object(o["b"])(n,void 0,void 0,(function(){var t,e,n,s;return Object(o["c"])(this,(function(o){switch(o.label){case 0:return t=i.peerId,e=i.text,n=i.dataConnection,0!==t.length?[3,2]:[4,d["a"].showError("自分のPeerIDを入力して、決定ボタンをクリックしてください")];case 1:return o.sent(),[2];case 2:return 0!==e.length?[3,4]:[4,d["a"].showError("送信するテキストを入力してください")];case 3:return o.sent(),[2];case 4:return null!==n?[3,6]:[4,d["a"].showError("相手のPeerIDを入力して、決定ボタンをクリックしてください")];case 5:return o.sent(),[2];case 6:return s={peerId:t,text:e},n.send(s),i.messages.push(s),i.text="",[2]}}))}))};return Object(r["j"])((function(){return i.peerId}),(function(t){u["a"].peerId=t})),Object(r["j"])((function(){return i.peer}),(function(t){null!==t&&(i.step=h.Step2)})),Object(r["j"])((function(){return i.dataConnection}),(function(t){null!==t&&(i.step=h.Step3)})),Object(o["a"])(Object(o["a"])({},Object(r["i"])(i)),{clickDone1:f,clickCancel:v,clickConnect:m,clickSend:y,keydownEnter:g,displayDialog1:s,displayDialog2:a})}}),f=b,v=(n("fe92"),n("2877")),m=n("6544"),g=n.n(m),y=(n("0467"),n("10d2")),k=n("713a"),x=n("9d26"),I=n("0789"),w=n("d9bd"),j=n("2b0e"),C=j["default"].extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:t=>!isNaN(Number(t))||["xs","sm","md","lg","xl"].includes(String(t))}},computed:{isMobile(){const{mobile:t,width:e,name:n,mobileBreakpoint:i}=this.$vuetify.breakpoint;if(i===this.mobileBreakpoint)return t;const s=parseInt(this.mobileBreakpoint,10),o=!isNaN(s);return o?e<s:n===this.mobileBreakpoint}},created(){this.$attrs.hasOwnProperty("mobile-break-point")&&Object(w["d"])("mobile-break-point","mobile-breakpoint",this)}}),O=n("f2e7"),_=n("58df"),S=n("80d2"),$=Object(_["a"])(y["a"],C,O["a"]).extend({name:"v-banner",inheritAttrs:!1,props:{app:Boolean,icon:String,iconColor:String,singleLine:Boolean,sticky:Boolean,value:{type:Boolean,default:!0}},computed:{classes(){return{...y["a"].options.computed.classes.call(this),"v-banner--has-icon":this.hasIcon,"v-banner--is-mobile":this.isMobile,"v-banner--single-line":this.singleLine,"v-banner--sticky":this.isSticky}},hasIcon(){return Boolean(this.icon||this.$slots.icon)},isSticky(){return this.sticky||this.app},styles(){const t={...y["a"].options.computed.styles.call(this)};if(this.isSticky){const e=this.app?this.$vuetify.application.bar+this.$vuetify.application.top:0;t.top=Object(S["g"])(e),t.position="sticky",t.zIndex=1}return t}},methods:{toggle(){this.isActive=!this.isActive},iconClick(t){this.$emit("click:icon",t)},genIcon(){if(!this.hasIcon)return;let t;return t=this.icon?this.$createElement(x["a"],{props:{color:this.iconColor,size:28}},[this.icon]):this.$slots.icon,this.$createElement(k["a"],{staticClass:"v-banner__icon",props:{color:this.color,size:40},on:{click:this.iconClick}},[t])},genText(){return this.$createElement("div",{staticClass:"v-banner__text"},this.$slots.default)},genActions(){const t=Object(S["o"])(this,"actions",{dismiss:()=>this.isActive=!1});if(t)return this.$createElement("div",{staticClass:"v-banner__actions"},t)},genContent(){return this.$createElement("div",{staticClass:"v-banner__content"},[this.genIcon(),this.genText()])},genWrapper(){return this.$createElement("div",{staticClass:"v-banner__wrapper"},[this.genContent(),this.genActions()])}},render(t){const e={staticClass:"v-banner",attrs:this.attrs$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};return t(I["a"],[t("div",this.outlined?e:this.setBackgroundColor(this.color,e),[this.genWrapper()])])}}),P=n("8336"),B=n("b0af"),E=n("99d9"),D=n("169a"),V=n("ce7e"),K=(n("b5b6"),n("8dd9")),N=n("3a66"),A=n("d10f"),T=Object(_["a"])(K["a"],Object(N["a"])("footer",["height","inset"]),A["a"]).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty(){return this.inset?"insetFooter":"footer"},classes(){return{...K["a"].options.computed.classes.call(this),"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset}},computedBottom(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned(){return Boolean(this.absolute||this.fixed||this.app)},styles(){const t=parseInt(this.height);return{...K["a"].options.computed.styles.call(this),height:isNaN(t)?t:Object(S["g"])(t),left:Object(S["g"])(this.computedLeft),right:Object(S["g"])(this.computedRight),bottom:Object(S["g"])(this.computedBottom)}}},methods:{updateApplication(){const t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render(t){const e=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return t(this.tag,e,this.$slots.default)}}),L=n("132d"),z=n("8860"),F=n("490a"),J=n("2fa4"),W=n("8654"),H=Object(v["a"])(f,i,s,!1,null,"3554e8d1",null);e["default"]=H.exports;g()(H,{VBanner:$,VBtn:P["a"],VCard:B["a"],VCardActions:E["a"],VCardText:E["c"],VCardTitle:E["d"],VDialog:D["a"],VDivider:V["a"],VFooter:T,VIcon:L["a"],VList:z["a"],VProgressCircular:F["a"],VSpacer:J["a"],VTextField:W["a"]})},e3bd:function(t,e,n){},fe92:function(t,e,n){"use strict";n("e3bd")}}]);